{
    "info": {
        "_postman_id": "2a545d66-793e-4d3d-9167-a82bf592b4bd",
        "name": "Tarcisio-Stone",
        "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
    },
    "item": [
        {
            "name": "Admin",
            "item": [
                {
                    "name": "Sign",
                    "item": [
                        {
                            "name": "Sign_up",
                            "id": "97dc296f-ec79-420a-8d1c-6579316a68e8",
                            "request": {
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"email\": \"admin5@email.com\",\n    \"password\": \"12345\",\n    \"password_confirmation\": \"123456\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/sign_up"
                            },
                            "response": []
                        },
                        {
                            "name": "Sign_in",
                            "event": [
                                {
                                    "listen": "test",
                                    "script": {
                                        "type": "text/javascript",
                                        "exec": [
                                            "const response = pm.response.json()",
                                            "pm.environment.set(\"token_admin\", response.message.token)",
                                            ""
                                        ]
                                    }
                                }
                            ],
                            "id": "3cf2a9d3-4c22-40d2-86d7-c57563935bda",
                            "request": {
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"email\": \"admin@email.com\",\n    \"password\": \"123456\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/admin/sign_in"
                            },
                            "response": []
                        }
                    ],
                    "id": "add27ea9-0716-44c7-b098-28ff14d717a9"
                },
                {
                    "name": "Report",
                    "item": [
                        {
                            "name": "todo periodo - todas operações",
                            "id": "64b8aa3e-e573-450f-8603-4894d8bcef1c",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"period\": \"all\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "/api/report/report"
                            },
                            "response": []
                        },
                        {
                            "name": "todo período - operacao",
                            "id": "c5a29a28-8f40-4d5c-b3c0-6a5655b82ff1",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"operation\": \"Withdraw\",\n    \"period\": \"all\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/report/report"
                            },
                            "response": []
                        },
                        {
                            "name": "hoje - todas operacoes",
                            "id": "0c831eab-8d3b-48ab-8b33-2e4fca035716",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"period\": \"today\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/report/report"
                            },
                            "response": []
                        },
                        {
                            "name": "Hoje - por operação",
                            "id": "b72c45c0-6a1d-4765-ae04-a303f0ab8d47",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"operation\": \"Withdraw\",\n    \"period\": \"today\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/report/report"
                            },
                            "response": []
                        },
                        {
                            "name": "dia determinado - por operacao",
                            "id": "251b4e28-5d6a-449c-b1e8-3fed41f3e94e",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"operation\": \"Withdraw\",\n    \"period\": \"day\",\n    \"day\": \"2020-02-07\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/report/report"
                            },
                            "response": []
                        },
                        {
                            "name": "dia determinado - todas operações",
                            "id": "657d5ef2-eff6-4ea5-9787-08d30c39821f",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"period\": \"day\",\n    \"day\": \"2021-07-14\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/report/report"
                            },
                            "response": []
                        },
                        {
                            "name": "mês - todas operações",
                            "id": "2e928ac0-53f7-40e1-9eaf-3cce05a06aac",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"period\" : \"month\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/report/report"
                            },
                            "response": []
                        },
                        {
                            "name": "mês determinado - todas operacoes",
                            "id": "2d300250-3413-4c5b-ac0c-034626716d9e",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"period\": \"month\",\n    \"month\": \"03\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/report/report"
                            },
                            "response": []
                        },
                        {
                            "name": "mês determinado - por operacao",
                            "id": "67841646-10e3-4734-a4c6-ad3379effc90",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"operation\": \"Withdraw\",\n    \"period\": \"month\",\n    \"month\": \"03\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/report/report"
                            },
                            "response": []
                        },
                        {
                            "name": "ano - todas operações",
                            "id": "761ab984-e5de-4a9f-97bd-5a77712da518",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"period\" : \"year\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/report/report"
                            },
                            "response": []
                        },
                        {
                            "name": "ano determinado - todas operacoes",
                            "id": "d493be4e-b853-4c54-a70f-867820387422",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"period\": \"year\",\n    \"year\": 2020\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/report/report"
                            },
                            "response": []
                        },
                        {
                            "name": "ano determinado - por operacao",
                            "id": "a42be47c-fe62-4d95-983c-44e453c86478",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"operation\": \"Withdraw\",\n    \"period\": \"year\",\n    \"year\": 2021\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/report/report"
                            },
                            "response": []
                        }
                    ],
                    "id": "e0e9485e-e2a3-43d5-bbed-b62dab02ac0d"
                },
                {
                    "name": "User",
                    "item": [
                        {
                            "name": "create user 1",
                            "id": "37e0baa3-06da-40d7-a791-873942cdae41",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"email\": \"tarcisio@stone.com\",\n    \"name\": \"Tarcisio\",\n    \"password\": \"123456\",\n    \"password_validation\": \"123456\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/user/"
                            },
                            "response": []
                        },
                        {
                            "name": "create user 2",
                            "id": "97825281-3816-4c16-87ee-5494a418e4ed",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"email\": \"Cida@email.com\",\n    \"name\": \"Cida\",\n    \"password\": \"123456\",\n    \"password_validation\": \"123456\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/user/"
                            },
                            "response": []
                        },
                        {
                            "name": "create user 3",
                            "id": "ab246996-2f1c-49e3-ad1f-63d1b6ce5a38",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"email\": \"miguel@email.com\",\n    \"name\": \"Miguel\",\n    \"password\": \"123456\",\n    \"password_validation\": \"123456\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/user/"
                            },
                            "response": []
                        },
                        {
                            "name": "user id 1",
                            "id": "c9b9283d-3614-4abe-809d-751a2fd6df38",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "GET",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/user/1"
                            },
                            "response": []
                        }
                    ],
                    "id": "b8062551-ade0-4eda-aecb-19d7192da4ee"
                },
                {
                    "name": "Operations",
                    "item": [
                        {
                            "name": "create operation Withdraw",
                            "id": "089ac74c-2bf6-4fa2-adb5-e29749b47f60",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"operation_name\": \"Withdraw\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/operation/"
                            },
                            "response": []
                        },
                        {
                            "name": "create operation Savings Account",
                            "id": "ec249c92-ad7d-42e4-9b6a-faf8ac583f14",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"operation_name\": \"Deposit\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/operation/"
                            },
                            "response": []
                        },
                        {
                            "name": "create operation Transfer",
                            "id": "4ebcf769-d0c1-463c-9ba7-ed834747bc22",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"operation_name\": \"Transfer\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/operation/"
                            },
                            "response": []
                        },
                        {
                            "name": "operation",
                            "id": "0300d73f-581a-4f32-bcac-8bbae6862688",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "GET",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/operation/3"
                            },
                            "response": []
                        }
                    ],
                    "id": "f89558cf-b348-428a-a2ba-d2b3d98f995c"
                },
                {
                    "name": "Account Type",
                    "item": [
                        {
                            "name": "Saving Account",
                            "id": "2e885afe-6a17-4f04-b3bf-0aa31ec2c990",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"account_type_name\": \"Savings Account\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/accounttype"
                            },
                            "response": []
                        },
                        {
                            "name": "Investiment",
                            "id": "1b11cd92-e19b-4699-8820-2cd6e3f7a033",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"account_type_name\": \"Investiment\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/accounttype"
                            },
                            "response": []
                        }
                    ],
                    "id": "b7bb3907-a972-4fb1-8b8f-187015972830"
                },
                {
                    "name": "Account",
                    "item": [
                        {
                            "name": "Create Account 1",
                            "id": "3ee03535-7a5a-44fe-b972-a42dcd6bfc6b",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"balance_account\": 100000,\n    \"user_id\": \"1\",\n    \"account_type_id\": \"2\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/account"
                            },
                            "response": []
                        },
                        {
                            "name": "Create Account 2",
                            "id": "74c7a7d0-bd41-48e6-8504-9fdb2bc3da55",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"user_id\": \"2\",\n    \"account_type_id\": \"1\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/account"
                            },
                            "response": []
                        },
                        {
                            "name": "Create Account 3",
                            "id": "e1491d16-433e-40d0-9c98-ca3123043de6",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"balance_account\": 100000,\n    \"user_id\": \"3\",\n    \"account_type_id\": \"2\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/account"
                            },
                            "response": []
                        },
                        {
                            "name": "Fetch account",
                            "id": "10358e87-5746-4936-b669-44a0a661f336",
                            "protocolProfileBehavior": {
                                "disableBodyPruning": true
                            },
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_admin}}"
                                    }
                                },
                                "method": "GET",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/account/1"
                            },
                            "response": []
                        }
                    ],
                    "id": "01980ccc-2b98-4d88-8f2e-0b3b05b85c65"
                }
            ],
            "id": "b044b361-b80e-4c40-a6e2-2b551149f13b"
        },
        {
            "name": "User",
            "item": [
                {
                    "name": "Sign In",
                    "item": [
                        {
                            "name": "Sign In User - token",
                            "event": [
                                {
                                    "listen": "test",
                                    "script": {
                                        "type": "text/javascript",
                                        "exec": [
                                            "const response = pm.response.json()",
                                            "pm.environment.set(\"token_user\", response.message.token)",
                                            ""
                                        ]
                                    }
                                }
                            ],
                            "id": "71f394aa-2c9d-40cd-a264-339a61e5ea0d",
                            "request": {
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"email\": \"tarcisio@stone.com\",\n    \"password\": \"123456\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/user/sign_in"
                            },
                            "response": []
                        }
                    ],
                    "id": "4e4f1092-94a4-4cc8-914b-bfae7623e8ea"
                },
                {
                    "name": "Transaction",
                    "item": [
                        {
                            "name": "Valid transaction",
                            "id": "815c1bd3-bea8-4c7d-98fc-b6c6402baafa",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_user}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"from_account_id\": 1,\n    \"to_account_id\": 2,\n    \"operation_id\": 3,\n    \"value\": \"1000\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/transaction/"
                            },
                            "response": []
                        },
                        {
                            "name": "Invalid transaction",
                            "id": "4df526ec-0547-4c1c-ab66-47e68b6fa226",
                            "request": {
                                "auth": {
                                    "type": "bearer",
                                    "bearer": {
                                        "token": "{{token_user}}"
                                    }
                                },
                                "method": "POST",
                                "header": [],
                                "body": {
                                    "mode": "raw",
                                    "raw": "{\n    \"from_account_id\": 1,\n    \"to_account_id\": 2,\n    \"operation_id\": 3,\n    \"value\": \"100000\"\n}",
                                    "options": {
                                        "raw": {
                                            "language": "json"
                                        }
                                    }
                                },
                                "url": "{{url}}/api/transaction/"
                            },
                            "response": []
                        }
                    ],
                    "id": "1c49000e-9b72-47ee-8796-9d2f2e7483ee",
                    "auth": {
                        "type": "bearer",
                        "bearer": {
                            "token": "token_user"
                        }
                    },
                    "event": [
                        {
                            "listen": "prerequest",
                            "script": {
                                "id": "d965c700-62cf-4b45-8616-cf4f7bb0491a",
                                "type": "text/javascript",
                                "exec": [
                                    ""
                                ]
                            }
                        },
                        {
                            "listen": "test",
                            "script": {
                                "id": "b4e6735c-4268-4d22-a4a7-b4678118e97a",
                                "type": "text/javascript",
                                "exec": [
                                    ""
                                ]
                            }
                        }
                    ]
                }
            ],
            "id": "67a7408c-4edb-420c-85b3-25dfbdff9cfe"
        }
    ]
}